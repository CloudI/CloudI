<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Module cowboy_websocket_handler</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module cowboy_websocket_handler</h1>
<ul class="index"><li><a href="#description">Description</a></li></ul>Handler for HTTP WebSocket requests.

<p><b>This module defines the <tt>cowboy_websocket_handler</tt> behaviour.</b><br> Required callback functions: <tt>websocket_init/3</tt>, <tt>websocket_handle/3</tt>, <tt>websocket_info/3</tt>, <tt>websocket_terminate/3</tt>.</p>

<h2><a name="description">Description</a></h2><p>Handler for HTTP WebSocket requests.</p>
 
  <p>WebSocket handlers must implement five callbacks: <em>init/3</em>,
  <em>websocket_init/3</em>, <em>websocket_handle/3</em>,
  <em>websocket_info/3</em> and <em>websocket_terminate/3</em>.
  These callbacks will only be called if the connection is upgraded
  to WebSocket in the HTTP handler's <em>init/3</em> callback.
  They are then called in that order, although <em>websocket_handle/3</em>
  will be called for each packet received, and <em>websocket_info</em>  
for each message received.</p>
 
  <p><em>websocket_init/3</em> is meant for initialization. It receives  
information about the transport and protocol used, along with the handler  
options from the dispatch list. You can define a request-wide state here.  
If you are going to want to compact the request, you should probably do it  
here.</p>
 
  <p><em>websocket_handle/3</em> receives the data from the socket. It can reply  
something, do nothing or close the connection.</p>
 
  <p><em>websocket_info/3</em> receives messages sent to the process. It has
  the same reply format as <em>websocket_handle/3</em> described above. Note
  that unlike in a <em>gen_server</em>, when <em>websocket_info/3</em>  
replies something, it is always to the socket, not to the process that  
originated the message.</p>
 
  <p><em>websocket_terminate/3</em> is meant for cleaning up. It also receives  
the request and the state previously defined, along with a reason for  
termination.</p>
 
  All of <em>websocket_init/3</em>, <em>websocket_handle/3</em> and
  <em>websocket_info/3</em> can decide to hibernate the process by adding
  an extra element to the returned tuple, containing the atom
  <em>hibernate</em>. Doing so helps save memory and improve CPU usage.<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Feb 13 2013, 19:54:01.</i></p>
</body>
</html>
